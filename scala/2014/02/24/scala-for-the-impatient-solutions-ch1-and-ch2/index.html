<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Yet another tech blog!">

    <title>Solutions to Scala for the Impatient - Chapter1 and Chapter2 - George's Dream Port</title>

    <link rel="canonical" href="http://codethoughts.info/scala/2014/02/24/scala-for-the-impatient-solutions-ch1-and-ch2/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <link href='//fonts.useso.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">George's Dream Port</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About me</a>
                </li>
                
                <li>
                    <a href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Solutions to Scala for the Impatient - Chapter1 and Chapter2</h1>
                    
                    <span class="meta">Posted by George's Dream Port on February 24, 2014</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>Recently I’m reading the book <a href="http://www.amazon.com/Scala-Impatient-Cay-S-Horstmann/dp/0321774094">Scala for the Impatient</a>, the book is pretty brilliant, you can see that from the comments. Since I’m a newbie to Scala, I’m try to complete the exercises after every chapter, I post the solutions in a serious of blog posts as book notes.</p>

<p>Since both chapter 1 and chapter 2 are very simple, I’ll post the solutions together here with this blog post.</p>

<!--more-->

<h3 id="solutions-to-exercises-of-chapter-1">Solutions to exercises of Chapter 1</h3>
<p>8. One way to create random file or directory names is to produce a random BigInt and convert it to base 36, yielding a string such as “qsnvbevtomcj38o06kul”. Poke around Scaladoc to find a way of doing this in Scala.</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">tmp</span> <span class="k">=</span> <span class="nc">BigInt</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="n">util</span><span class="o">.</span><span class="nc">Random</span><span class="o">).</span><span class="n">toString</span><span class="o">(</span><span class="mi">36</span><span class="o">)</span></code></pre></div>

<p>According to <a href="http://www.scala-lang.org/api/2.10.2/index.html#scala.math.BigInt$">BigInt’s document</a>, there’s a method called apply, which will construct a randomly generated BigInt, uniformly distributed over the range 0 to (2 ^ numBits - 1), its method signature is:</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">apply</span><span class="o">(</span><span class="n">numbits</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">rnd</span><span class="k">:</span> <span class="kt">Random</span><span class="o">)</span><span class="k">:</span> <span class="kt">BigInt</span></code></pre></div>

<p>9. How do you get the first character of a string in Scala? The last character?</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">val</span> <span class="n">str</span> <span class="k">=</span> <span class="s">&quot;abcd&quot;</span>
<span class="n">str</span><span class="o">.</span><span class="n">head</span> <span class="c1">// get the first</span>
<span class="n">str</span><span class="o">.</span><span class="n">dropRight</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span></code></pre></div>

<p>There’re several way to achieve this goal, what I have shown is one of them.</p>

<p>10. What do the take, drop, takeRight, and dropRight string functions do? What advantage or disadvantage do they have over using substring?
To get an idea what they can do, we need to check Scala document.</p>

<p>The difference between then and java.lang.String is that, before Java 7, String#substring method will operate on the original string, it will generate new String instance at all, so it takes constant time to complete the substring operation. But this behaviour changed after Java 7 due to security reasons, for more details, please go to <a href="http://www.javaadvent.com/2012/12/changes-to-stringsubstring-in-java-7.html">Changes to String.substring in Java 7</a>. After this change, substring will always produce new String instances, which will take linear time to complete the operation.</p>

<p>As far as I know, in Scala, the <code>take\*</code> and <code>drop\*</code> method will always generate new String instances(please correct me if I’m wrong), I think this is the difference.</p>

<h3 id="solutions-to-exercises-of-chapter-2">Solutions to exercises of Chapter 2</h3>
<p>1. The signum of a number is 1 if the number is positive, –1 if it is negative, and 0 if it is zero. Write a function that computes this value.</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">signum</span><span class="o">(</span><span class="n">num</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span> <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">1</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span> <span class="o">}</span></code></pre></div>

<p>Notice that I didn’t use return statement in above code, it a best practice to avoid the return statement in Scala.</p>

<p>2. What is the value of an empty block expression {}? What is its type?
It’s of type Unit, you can verify that with <code> {}.getClass </code> inside Scala interactive shell.</p>

<p>3. Come up with one situation where the assignment x = y = 1 is valid in Scala. (Hint: Pick a suitable type for x.)</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">var</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="nc">Unit</span>
<span class="k">var</span> <span class="n">y</span> <span class="k">=</span> <span class="mi">0</span>
<span class="n">x</span> <span class="k">=</span> <span class="n">y</span> <span class="k">=</span> <span class="mi">1</span></code></pre></div>

<p>4.Write a Scala equivalent for the Java loop <code>for (int i = 10; i &gt;= 0; i--) System.out.println(i); </code></p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span> <span class="mi">10</span> <span class="n">to</span> <span class="mi">0</span> <span class="n">by</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="n">println</span><span class="o">(</span><span class="n">i</span><span class="o">)</span></code></pre></div>

<p>5. Write a procedure countdown(n: Int) that prints the numbers from n to 0.</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">countdown</span><span class="o">(</span><span class="n">num</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">var</span> <span class="n">step</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span> <span class="n">num</span> <span class="n">to</span> <span class="mi">0</span> <span class="n">by</span> <span class="n">step</span><span class="o">)</span> <span class="n">println</span><span class="o">(</span><span class="n">i</span><span class="o">)</span>
<span class="o">}</span></code></pre></div>

<p>6. Write a for loop for computing the product of the Unicode codes of all letters in a string. For example, the product of the characters in “Hello” is 9415087488L.</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">var</span> <span class="n">prod</span> <span class="k">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span> <span class="s">&quot;Hello&quot;</span><span class="o">)</span> <span class="n">println</span><span class="o">(</span><span class="n">prod</span> <span class="o">*</span> <span class="n">i</span><span class="o">.</span><span class="n">toInt</span><span class="o">)</span></code></pre></div>

<p>7. Solve the preceding exercise without writing a loop. (Hint: Look at the StringOps Scaladoc.)</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="s">&quot;Hello&quot;</span><span class="o">.</span><span class="n">foldLeft</span><span class="o">(</span><span class="mi">1L</span><span class="o">)</span> <span class="o">(</span><span class="k">_</span> <span class="o">*</span> <span class="k">_</span><span class="o">.</span><span class="n">toInt</span><span class="o">)</span></code></pre></div>

<p>Note that here I use 1L instead of 1, because java.lang.Integer.MAX_VALUE is 2147483647, which is too small to hold the produce of products of “Hello”, so I need to specify Long as the products type.</p>

<p>8. Write a function product(s : String) that computes the product, as described in the preceding exercises.</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">product</span><span class="o">(</span><span class="n">str</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
    <span class="n">str</span><span class="o">.</span><span class="n">foldLeft</span><span class="o">(</span><span class="mi">1L</span><span class="o">)</span> <span class="o">(</span><span class="k">_</span> <span class="o">*</span> <span class="k">_</span><span class="o">.</span><span class="n">toInt</span><span class="o">)</span>
<span class="o">}</span></code></pre></div>

<p>9. Make the function of the preceding exercise a recursive function.</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">product_r</span><span class="o">(</span><span class="n">str</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Long</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">str</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="s">&quot;&quot;</span> <span class="k">=&gt;</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="n">str</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">toInt</span> <span class="o">*</span> <span class="n">product_r</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="n">tail</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></div>

<p>Note that we still specify the return value as Long for the same reason above.</p>


                <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'puffsun'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/ruby/2014/01/25/threading-with-monitor-in-ruby/" data-toggle="tooltip" data-placement="top" title="Threading with Monitor in Ruby">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/ruby/2014/02/24/blocks-procs-lambdas/" data-toggle="tooltip" data-placement="top" title="Differences among Blocks, Procs, and Lambdas in Ruby">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/kui_sun">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/kui.sun.71">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/puffsun">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; George's Dream Port 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
